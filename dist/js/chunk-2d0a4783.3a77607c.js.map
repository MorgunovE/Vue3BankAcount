{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?a27a"],"names":["class","for","value","loading","request","back","title","name","phone","currency","amount","type","status","id","remove","hasChange","update","$route","params","setup","route","store","router","dispatch","push","data","components","AppStatus","AppLoader","AppPage","render","__scopeId"],"mappings":"+NAGO,eAAuB,cAAf,UAAM,G,EACd,eAAwB,cAAhB,WAAO,G,EACf,eAAyB,cAAjB,YAAQ,G,EAChB,eAAyB,cAAjB,YAAQ,G,GAGdA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAuC,UAA/BC,MAAM,QAAO,aAAS,G,EAC9B,eAA4C,UAApCA,MAAM,aAAY,aAAS,G,EACnC,eAAsC,UAA9BA,MAAM,UAAS,UAAM,G,EAC7B,eAAwC,UAAhCA,MAAM,WAAU,WAAO,G,SAM1BF,MAAM,0B,sJApBC,EAAAG,S,iBAAlB,eAAwC,YACE,EAAAC,S,iBAA1C,eAkBW,G,MAlBDC,KAAA,GAAKC,MAAM,W,YACnB,iBAA8C,CAA9C,eAA8C,UAA3C,E,8BAAyB,EAAAF,QAAQG,MAAI,KACxC,eAAgD,UAA7C,E,8BAA0B,EAAAH,QAAQI,OAAK,KAC1C,eAA4D,UAAzD,E,8BAA2B,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAEI,UAFD,EACD,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAE7B,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CACjC,EACA,EACA,EACA,G,cAJ2B,EAAAA,YAO/B,eAA0D,UAAlDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,UACD,EAAAC,W,iBAA1C,eAAoE,U,MAA5Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAAyB,W,mDAEvD,eAEK,KAFL,EAA0C,8BACd,eAAE,EAAAC,OAAOC,OAAOL,IAAE,O,4GAc/B,G,UAAA,CACbN,KAAM,UACNY,MAFa,WAGX,IAAMC,EAAQ,iBACRC,EAAQ,iBACRC,EAAS,iBACTV,EAAS,iBACTT,EAAU,gBAAI,GACdC,EAAU,eAAI,IAEpB,eAAS,wCAAC,2GACRD,EAAQD,OAAQ,EADR,SAEcmB,EAAME,SAAS,mBAAoBH,EAAMF,OAAOL,IAF9D,OAERT,EAAQF,MAFA,OAGRU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJR,4CAOV,IAAMa,EAAY,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAE3DY,EAAK,yDAAI,8GACPO,EAAME,SAAS,iBAAkBH,EAAMF,OAAOL,IADvC,uBAEPS,EAAOE,KAAK,KAFL,2CAAJ,qDAILR,EAAK,yDAAI,2GACPS,EADO,iCACIrB,EAAQF,OADZ,IACmBU,OAAQA,EAAOV,MAAOW,GAAIO,EAAMF,OAAOL,KAD1D,SAEPQ,EAAME,SAAS,iBAAkBE,GAF1B,OAGbrB,EAAQF,MAAMU,OAASA,EAAOV,MAHjB,2CAAJ,qDAMX,MAAO,CAACC,UAASC,UAASK,WAAA,KAAUK,SAAQE,SAAQJ,SAAQG,cAE9DW,WAAY,CAACC,YAAA,KAAWC,YAAA,KAAWC,UAAA,QChEvC,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d0a4783.3a77607c.js","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n  <app-page back title=\"Request\" v-else-if=\"request\">\r\n    <p><strong>Name: </strong>{{request.name}}</p>\r\n    <p><strong>Phone: </strong>{{request.phone}}</p>\r\n    <p><strong>Amount: </strong>{{currency(request.amount)}}</p>\r\n    <p><strong>Status: </strong>\r\n      <app-status :type=\"request.status\"></app-status>\r\n    </p>\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Status</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Completed</option>\r\n        <option value=\"cancelled\">Cancelled</option>\r\n        <option value=\"active\">Active</option>\r\n        <option value=\"pending\">Pending</option>\r\n      </select>\r\n    </div>\r\n    <button class=\"btn danger\" @click=\"remove\">Remove</button>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChange\">Update</button>\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Haven't request with ID = {{$route.params.id}}\r\n  </h3>\r\n</template>\r\n\r\n<script>\r\n  import AppPage from '../components/ui/AppPage'\r\n  import {useRoute, useRouter} from 'vue-router'\r\n  import {ref, onMounted, computed} from 'vue'\r\n  import {useStore} from 'vuex'\r\n  import AppLoader from '../components/ui/AppLoader'\r\n  import AppStatus from '../components/ui/AppStatus'\r\n  import {currency} from '../utils/currency'\r\n  import router from '../router'\r\n  \r\n  export default {\r\n    name: \"Request\",\r\n    setup() {\r\n      const route = useRoute()\r\n      const store = useStore()\r\n      const router = useRouter()\r\n      const status = ref()\r\n      const loading = ref(true)\r\n      const request = ref({})\r\n      \r\n      onMounted(async () => {\r\n        loading.value = true\r\n        request.value = await store.dispatch('request/loadById', route.params.id)\r\n        status.value = request.value?.status\r\n        loading.value = false\r\n      })\r\n      \r\n      const hasChange = computed(() => request.value.status !== status.value)\r\n      \r\n      const remove = async () => {\r\n        await store.dispatch('request/remove', route.params.id)\r\n        await router.push('/')\r\n      }\r\n      const update = async () => {\r\n        const data = {...request.value, status: status.value, id: route.params.id}\r\n        await store.dispatch('request/update', data)\r\n        request.value.status = status.value\r\n      }\r\n      \r\n      return {loading, request, currency, remove, update, status, hasChange}\r\n    },\r\n    components: {AppStatus, AppLoader, AppPage}\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Request.vue?vue&type=template&id=7030a6c6&scoped=true\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-7030a6c6\"\n\nexport default script"],"sourceRoot":""}